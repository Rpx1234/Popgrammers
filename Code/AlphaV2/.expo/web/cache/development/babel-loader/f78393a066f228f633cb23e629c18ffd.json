{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useContext, useEffect } from 'react';\nimport { NavigationContainer } from '@react-navigation/native';\nimport { onAuthStateChanged } from 'firebase/auth';\nimport { AuthStack } from \"./AuthStack\";\nimport { AppStack } from \"./AppStack\";\nimport { AuthenticatedUserContext } from \"../providers\";\nimport { LoadingIndicator } from \"../components\";\nimport { auth } from \"../config\";\nexport var RootNavigator = function RootNavigator() {\n  var _useContext = useContext(AuthenticatedUserContext),\n      user = _useContext.user,\n      setUser = _useContext.setUser;\n\n  var _useState = useState(true),\n      _useState2 = _slicedToArray(_useState, 2),\n      isLoading = _useState2[0],\n      setIsLoading = _useState2[1];\n\n  useEffect(function () {\n    var unsubscribeAuthStateChanged = onAuthStateChanged(auth, function (authenticatedUser) {\n      authenticatedUser ? setUser(authenticatedUser) : setUser(null);\n      setIsLoading(false);\n    });\n    return unsubscribeAuthStateChanged;\n  }, [user]);\n\n  if (isLoading) {\n    return React.createElement(LoadingIndicator, null);\n  }\n\n  return React.createElement(NavigationContainer, null, user ? React.createElement(AppStack, null) : React.createElement(AuthStack, null));\n};","map":{"version":3,"sources":["C:/Users/camer/Documents/GitHub/Popgrammers/Code/AlphaV2/navigation/RootNavigator.js"],"names":["React","useState","useContext","useEffect","NavigationContainer","onAuthStateChanged","AuthStack","AppStack","AuthenticatedUserContext","LoadingIndicator","auth","RootNavigator","user","setUser","isLoading","setIsLoading","unsubscribeAuthStateChanged","authenticatedUser"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,EAAsCC,SAAtC,QAAuD,OAAvD;AACA,SAASC,mBAAT,QAAoC,0BAApC;AACA,SAASC,kBAAT,QAAmC,eAAnC;AAEA,SAASC,SAAT;AACA,SAASC,QAAT;AACA,SAASC,wBAAT;AACA,SAASC,gBAAT;AACA,SAASC,IAAT;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,GAAM;AACjC,oBAA0BT,UAAU,CAACM,wBAAD,CAApC;AAAA,MAAQI,IAAR,eAAQA,IAAR;AAAA,MAAcC,OAAd,eAAcA,OAAd;;AACA,kBAAkCZ,QAAQ,CAAC,IAAD,CAA1C;AAAA;AAAA,MAAOa,SAAP;AAAA,MAAkBC,YAAlB;;AAEAZ,EAAAA,SAAS,CAAC,YAAM;AAEd,QAAMa,2BAA2B,GAAGX,kBAAkB,CACpDK,IADoD,EAEpD,UAAAO,iBAAiB,EAAI;AACnBA,MAAAA,iBAAiB,GAAGJ,OAAO,CAACI,iBAAD,CAAV,GAAgCJ,OAAO,CAAC,IAAD,CAAxD;AACAE,MAAAA,YAAY,CAAC,KAAD,CAAZ;AACD,KALmD,CAAtD;AASA,WAAOC,2BAAP;AACD,GAZQ,EAYN,CAACJ,IAAD,CAZM,CAAT;;AAcA,MAAIE,SAAJ,EAAe;AACb,WAAO,oBAAC,gBAAD,OAAP;AACD;;AAED,SACE,oBAAC,mBAAD,QACGF,IAAI,GAAG,oBAAC,QAAD,OAAH,GAAkB,oBAAC,SAAD,OADzB,CADF;AAKD,CA3BM","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { onAuthStateChanged } from 'firebase/auth';\r\n\r\nimport { AuthStack } from './AuthStack';\r\nimport { AppStack } from './AppStack';\r\nimport { AuthenticatedUserContext } from '../providers';\r\nimport { LoadingIndicator } from '../components';\r\nimport { auth } from '../config';\r\n\r\nexport const RootNavigator = () => {\r\n  const { user, setUser } = useContext(AuthenticatedUserContext);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    // onAuthStateChanged returns an unsubscriber\r\n    const unsubscribeAuthStateChanged = onAuthStateChanged(\r\n      auth,\r\n      authenticatedUser => {\r\n        authenticatedUser ? setUser(authenticatedUser) : setUser(null);\r\n        setIsLoading(false);\r\n      }\r\n    );\r\n\r\n    // unsubscribe auth listener on unmount\r\n    return unsubscribeAuthStateChanged;\r\n  }, [user]);\r\n\r\n  if (isLoading) {\r\n    return <LoadingIndicator />;\r\n  }\r\n\r\n  return (\r\n    <NavigationContainer>\r\n      {user ? <AppStack /> : <AuthStack />}\r\n    </NavigationContainer>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}