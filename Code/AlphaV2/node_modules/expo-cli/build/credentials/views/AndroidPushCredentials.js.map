{"version":3,"sources":["../../../src/credentials/views/AndroidPushCredentials.ts"],"names":["UpdateFcmKey","constructor","experienceName","open","ctx","nonInteractive","CommandError","fcmApiKey","type","name","message","validate","value","length","android","updateFcmKey","Log","log","chalk","green"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAGO,MAAMA,YAAN,CAAoC;AACzCC,EAAAA,WAAW,CAASC,cAAT,EAAiC;AAAA,SAAxBA,cAAwB,GAAxBA,cAAwB;AAAE;;AAEpC,QAAJC,IAAI,CAACC,GAAD,EAAsC;AAC9C,QAAIA,GAAG,CAACC,cAAR,EAAwB;AACtB,YAAM,KAAIC,uBAAJ,EACJ,iBADI,EAEJ,+EAFI,CAAN;AAID;;AAED,UAAM;AAAEC,MAAAA;AAAF,QAAgB,MAAM,wBAAO;AACjCC,MAAAA,IAAI,EAAE,MAD2B;AAEjCC,MAAAA,IAAI,EAAE,WAF2B;AAGjCC,MAAAA,OAAO,EAAE,aAHwB;AAIjCC,MAAAA,QAAQ,EAAGC,KAAD,IAAmBA,KAAK,CAACC,MAAN,GAAe,CAAf,IAAoB;AAJhB,KAAP,CAA5B;AAOA,UAAMT,GAAG,CAACU,OAAJ,CAAYC,YAAZ,CAAyB,KAAKb,cAA9B,EAA8CK,SAA9C,CAAN;;AACAS,mBAAIC,GAAJ,CAAQC,iBAAMC,KAAN,CAAY,sBAAZ,CAAR;;AACA,WAAO,IAAP;AACD;;AArBwC","sourcesContent":["import chalk from 'chalk';\n\nimport CommandError from '../../CommandError';\nimport Log from '../../log';\nimport prompt from '../../utils/prompts';\nimport { Context, IView } from '../context';\n\nexport class UpdateFcmKey implements IView {\n  constructor(private experienceName: string) {}\n\n  async open(ctx: Context): Promise<IView | null> {\n    if (ctx.nonInteractive) {\n      throw new CommandError(\n        'NON_INTERACTIVE',\n        \"Start the CLI without the '--non-interactive' flag to update the FCM Api key.\"\n      );\n    }\n\n    const { fcmApiKey } = await prompt({\n      type: 'text',\n      name: 'fcmApiKey',\n      message: 'FCM Api Key',\n      validate: (value: string) => value.length > 0 || \"FCM Api Key can't be empty\",\n    });\n\n    await ctx.android.updateFcmKey(this.experienceName, fcmApiKey);\n    Log.log(chalk.green('Updated successfully'));\n    return null;\n  }\n}\n"],"file":"AndroidPushCredentials.js"}