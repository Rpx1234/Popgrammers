{"version":3,"sources":["../../../../src/commands/info/doctor/doctorAsync.ts"],"names":["actionAsync","projectRoot","options","exp","pkg","getConfig","areDepsValid","validateDependenciesVersionsAsync","fixDependencies","Doctor","validateExpoServersAsync","validateWithNetworkAsync","NO_ISSUES","Log","log","chalk","green"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAMO,eAAeA,WAAf,CAA2BC,WAA3B,EAAgDC,OAAhD,EAAkE;AACvE,QAAM,gCAAN;AAEA,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA;AAAP,MAAe,oCAAcC,mBAAd,EAAyBJ,WAAzB,CAArB;AACA,QAAMK,YAAY,GAAG,MAAM,oCAAcC,iEAAd,EACzBN,WADyB,EAEzBE,GAFyB,EAGzBC,GAHyB,EAIzBF,OAAO,CAACM,eAJiB,CAA3B,CAJuE,CAWvE;;AACA,QAAMC,cAAOC,wBAAP,CAAgCT,WAAhC,CAAN;;AAEA,MAAI,CAAC,MAAMQ,cAAOE,wBAAP,CAAgCV,WAAhC,CAAP,MAAyDQ,cAAOG,SAAhE,IAA6EN,YAAjF,EAA+F;AAC7FO,mBAAIC,GAAJ,CAAQC,iBAAMC,KAAN,CAAa,6CAAb,CAAR;AACD;AACF","sourcesContent":["import { getConfig } from '@expo/config';\nimport chalk from 'chalk';\nimport { Doctor } from 'xdl';\n\nimport Log from '../../../log';\nimport { profileMethod } from '../../utils/profileMethod';\nimport { validateDependenciesVersionsAsync } from '../../utils/validateDependenciesVersions';\nimport { warnUponCmdExe } from './windows';\n\ntype Options = {\n  fixDependencies?: boolean;\n};\n\nexport async function actionAsync(projectRoot: string, options: Options) {\n  await warnUponCmdExe();\n\n  const { exp, pkg } = profileMethod(getConfig)(projectRoot);\n  const areDepsValid = await profileMethod(validateDependenciesVersionsAsync)(\n    projectRoot,\n    exp,\n    pkg,\n    options.fixDependencies\n  );\n\n  // note: this currently only warns when something isn't right, it doesn't fail\n  await Doctor.validateExpoServersAsync(projectRoot);\n\n  if ((await Doctor.validateWithNetworkAsync(projectRoot)) === Doctor.NO_ISSUES && areDepsValid) {\n    Log.log(chalk.green(`ðŸŽ‰ Didn't find any issues with the project!`));\n  }\n}\n"],"file":"doctorAsync.js"}