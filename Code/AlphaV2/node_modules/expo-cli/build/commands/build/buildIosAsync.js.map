{"version":3,"sources":["../../../src/commands/build/buildIosAsync.ts"],"names":["actionAsync","projectRoot","options","skipWorkflowCheck","platform","nonInteractive","program","skipCredentialsCheck","clearCredentials","CommandError","publicUrl","releaseChannel","iosBuilder","IOSBuilder","command"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEO,eAAeA,WAAf,CAA2BC,WAA3B,EAAgDC,OAAhD,EAAqE;AAC1E,8CAAkB,KAAlB;;AACA,MAAI,CAACA,OAAO,CAACC,iBAAb,EAAgC;AAC9B,QACE,MAAM,yCAA2B;AAC/BF,MAAAA,WAD+B;AAE/BG,MAAAA,QAAQ,EAAE,KAFqB;AAG/BC,MAAAA,cAAc,EAAEC,qBAAQD;AAHO,KAA3B,CADR,EAME;AACA;AACD;AACF;;AACD,MAAIH,OAAO,CAACK,oBAAR,IAAgCL,OAAO,CAACM,gBAA5C,EAA8D;AAC5D,UAAM,KAAIC,uBAAJ,EACJ,yEADI,CAAN;AAGD;;AACD,gCAAgBP,OAAO,CAACQ,SAAxB;AACA,qCAAqBR,OAAO,CAACS,cAA7B;AAEA,QAAMC,UAAU,GAAG,KAAIC,qBAAJ,EAAeZ,WAAf,EAA4BC,OAA5B,CAAnB;AACA,SAAOU,UAAU,CAACE,OAAX,EAAP;AACD","sourcesContent":["import program from 'commander';\n\nimport CommandError from '../../CommandError';\nimport type { IosOptions } from './BaseBuilder.types';\nimport IOSBuilder from './ios/IOSBuilder';\nimport { logBuildMigration } from './logBuildMigration';\nimport { assertPublicUrl, assertReleaseChannel, maybeBailOnWorkflowWarning } from './utils';\n\nexport async function actionAsync(projectRoot: string, options: IosOptions) {\n  logBuildMigration('ios');\n  if (!options.skipWorkflowCheck) {\n    if (\n      await maybeBailOnWorkflowWarning({\n        projectRoot,\n        platform: 'ios',\n        nonInteractive: program.nonInteractive,\n      })\n    ) {\n      return;\n    }\n  }\n  if (options.skipCredentialsCheck && options.clearCredentials) {\n    throw new CommandError(\n      \"--skip-credentials-check and --clear-credentials can't be used together\"\n    );\n  }\n  assertPublicUrl(options.publicUrl);\n  assertReleaseChannel(options.releaseChannel);\n\n  const iosBuilder = new IOSBuilder(projectRoot, options);\n  return iosBuilder.command();\n}\n"],"file":"buildIosAsync.js"}