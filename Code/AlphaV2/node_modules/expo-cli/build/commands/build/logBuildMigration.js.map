{"version":3,"sources":["../../../src/commands/build/logBuildMigration.ts"],"names":["daysUntilDate","date","today","Date","eventDate","timeDiff","getTime","diffDays","Math","ceil","logBuildMigration","platform","Log","newLine","command","chalk","bold","log","dim","TerminalLink","learnMore","cyan","linkedText","endDate","daysLeft","red"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAEA,MAAMA,aAAa,GAAIC,IAAD,IAAkB;AACtC,QAAMC,KAAK,GAAG,IAAIC,IAAJ,EAAd;AACA,QAAMC,SAAS,GAAG,IAAID,IAAJ,CAASF,IAAT,CAAlB;AACA,QAAMI,QAAQ,GAAGD,SAAS,CAACE,OAAV,KAAsBJ,KAAK,CAACI,OAAN,EAAvC;;AACA,MAAID,QAAQ,GAAG,CAAf,EAAkB;AAChB,WAAO,CAAP;AACD;;AACD,QAAME,QAAQ,GAAGC,IAAI,CAACC,IAAL,CAAUJ,QAAQ,IAAI,OAAO,IAAP,GAAc,EAAlB,CAAlB,CAAjB;AACA,SAAOE,QAAP;AACD,CATD;;AAWO,SAASG,iBAAT,CAA2BC,QAA3B,EAA6C;AAClDC,iBAAIC,OAAJ;;AACA,QAAMC,OAAO,GAAGC,iBAAMC,IAAN,CAAY,cAAaL,QAAS,EAAlC,CAAhB;;AACAC,iBAAIK,GAAJ,CACG,GAAEH,OAAQ,2BAA0BC,iBAAMC,IAAK,WAAW,KAAID,iBAAMG,GAAN,CAC7DC,YAAY,GAACC,SAAb,CAAwB,2DAAxB,CAD6D,CAE7D,EAHJ;;AAKAR,iBAAIC,OAAJ;;AACAD,iBAAIK,GAAJ,CAAQ,oBAAR;;AACAL,iBAAIC,OAAJ;;AACAD,iBAAIK,GAAJ,CAAQ,YAAYF,iBAAMM,IAAN,CAAWL,IAAX,CAAgB,wBAAhB,CAApB;;AACAJ,iBAAIK,GAAJ,CACG,UAASE,YAAY,GAACG,UAAb,CACRP,iBAAMM,IAAN,CAAWL,IAAX,CAAiB,gBAAeL,QAAS,EAAzC,CADQ,EAEP,oCAFO,CAGR,EAJJ;;AAOA,QAAMY,OAAO,GAAG,iBAAhB;AACA,QAAMC,QAAQ,GAAGxB,aAAa,CAACuB,OAAD,CAA9B;;AACAX,iBAAIC,OAAJ;;AAEA,MAAIW,QAAJ,EAAc;AACZZ,mBAAIK,GAAJ,CACG,GAAEH,OAAQ,4BAA2BC,iBAAMC,IAAN,CAAWO,OAAX,CAAoB,KAAIC,QAAS,OACrEA,QAAQ,KAAK,CAAb,GAAiB,EAAjB,GAAsB,GACvB,SAHH;AAKD,GAND,MAMO;AACLZ,mBAAIK,GAAJ,CAAQF,iBAAMU,GAAN,CAAW,GAAEX,OAAQ,2BAA0BC,iBAAMC,IAAN,CAAWO,OAAX,CAAoB,IAAnE,CAAR;AACD;;AACDX,iBAAIC,OAAJ;AACD","sourcesContent":["import chalk from 'chalk';\n\nimport Log from '../../log';\nimport * as TerminalLink from '../utils/TerminalLink';\n\nconst daysUntilDate = (date: string) => {\n  const today = new Date();\n  const eventDate = new Date(date);\n  const timeDiff = eventDate.getTime() - today.getTime();\n  if (timeDiff < 0) {\n    return 0;\n  }\n  const diffDays = Math.ceil(timeDiff / (1000 * 3600 * 24));\n  return diffDays;\n};\n\nexport function logBuildMigration(platform: string) {\n  Log.newLine();\n  const command = chalk.bold(`expo build:${platform}`);\n  Log.log(\n    `${command} has been superseded by ${chalk.bold`eas build`}. ${chalk.dim(\n      TerminalLink.learnMore(`https://blog.expo.dev/turtle-goes-out-to-sea-d334db2a6b60`)\n    )}`\n  );\n  Log.newLine();\n  Log.log('Run the following:');\n  Log.newLine();\n  Log.log('\\u203A ' + chalk.cyan.bold('npm install -g eas-cli'));\n  Log.log(\n    `\\u203A ${TerminalLink.linkedText(\n      chalk.cyan.bold(`eas build -p ${platform}`),\n      `https://docs.expo.dev/build/setup/`\n    )}`\n  );\n\n  const endDate = 'January 4, 2023';\n  const daysLeft = daysUntilDate(endDate);\n  Log.newLine();\n\n  if (daysLeft) {\n    Log.log(\n      `${command} will be discontinued on ${chalk.bold(endDate)} (${daysLeft} day${\n        daysLeft === 1 ? '' : 's'\n      } left).`\n    );\n  } else {\n    Log.log(chalk.red(`${command} has been discontinued (${chalk.bold(endDate)}).`));\n  }\n  Log.newLine();\n}\n"],"file":"logBuildMigration.js"}