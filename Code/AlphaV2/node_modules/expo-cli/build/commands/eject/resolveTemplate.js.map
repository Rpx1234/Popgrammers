{"version":3,"sources":["../../../src/commands/eject/resolveTemplate.ts"],"names":["resolveTemplateOption","template","startsWith","path","sep","templatePath","resolve","fs","existsSync","CommandError","statSync","isFile"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAEO,SAASA,qBAAT,CAA+BC,QAA/B,EAAiD;AACtD,MAAI,uBAAMA,QAAN,EAAgB,EAAhB,CAAJ,EAAyB;AACvB,WAAOA,QAAP;AACD;;AAED,MAAIA,QAAQ,CAACC,UAAT,CAAqB,IAAGC,IAAI,GAACC,GAAI,EAAjC,KAAuCH,QAAQ,CAACC,UAAT,CAAoBC,IAAI,GAACC,GAAzB,CAA3C,EAA0E;AACxE,UAAMC,YAAY,GAAGF,IAAI,GAACG,OAAL,CAAaL,QAAb,CAArB;;AACA,QAAI,CAACM,EAAE,GAACC,UAAH,CAAcH,YAAd,CAAL,EAAkC;AAChC,YAAM,KAAII,uBAAJ,EAAiB,mCAAmCJ,YAApD,CAAN;AACD;;AACD,QAAI,CAACE,EAAE,GAACG,QAAH,CAAYL,YAAZ,EAA0BM,MAA1B,EAAL,EAAyC;AACvC,YAAM,KAAIF,uBAAJ,EACJ,6EAA6EJ,YADzE,CAAN;AAGD;;AACD,WAAOA,YAAP;AACD;;AACD,SAAOJ,QAAP;AACD","sourcesContent":["import * as fs from 'fs';\nimport * as path from 'path';\nimport { isURL } from 'xdl/build/UrlUtils';\n\nimport CommandError from '../../CommandError';\n\nexport function resolveTemplateOption(template: string) {\n  if (isURL(template, {})) {\n    return template;\n  }\n\n  if (template.startsWith(`.${path.sep}`) || template.startsWith(path.sep)) {\n    const templatePath = path.resolve(template);\n    if (!fs.existsSync(templatePath)) {\n      throw new CommandError('template file does not exist: ' + templatePath);\n    }\n    if (!fs.statSync(templatePath).isFile()) {\n      throw new CommandError(\n        'template must be a tar file created by running `npm pack` in a project: ' + templatePath\n      );\n    }\n    return templatePath;\n  }\n  return template;\n}\n"],"file":"resolveTemplate.js"}