{"version":3,"sources":["../../src/commands/sendAsync.ts"],"names":["actionAsync","projectRoot","options","urlOpts","optsAsync","url","UrlUtils","constructDeepLinkAsync","Log","nested","chalk","underline","handleMobileOptsAsync","recipient","sendTo","UserSettings","getAsync","askForSendToAsync","sendUrlAsync"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;;;;;AAIO,eAAeA,WAAf,CAA2BC,WAA3B,EAAgDC,OAAhD,EAAkE;AACvE,QAAMC,mBAAQC,SAAR,CAAkBH,WAAlB,EAA+BC,OAA/B,CAAN;AAEA,QAAMG,GAAG,GAAG,MAAMC,gBAASC,sBAAT,CAAgCN,WAAhC,CAAlB;;AAEAO,iBAAIC,MAAJ,CAAW,6BAA6BC,iBAAMC,SAAN,CAAgBN,GAAhB,CAA7B,GAAoD,IAA/D;;AAEA,MAAI,MAAMF,mBAAQS,qBAAR,CAA8BX,WAA9B,EAA2CC,OAA3C,CAAV,EAA+D;AAC7D;AACD;;AAED,MAAIW,SAAS,GACX,OAAOX,OAAO,CAACY,MAAf,KAA0B,SAA1B,GACIZ,OAAO,CAACY,MADZ,GAEI,MAAMC,oBAAaC,QAAb,CAAsB,QAAtB,EAAgC,IAAhC,CAHZ;;AAKA,MAAI,CAACH,SAAL,EAAgB;AACdA,IAAAA,SAAS,GAAG,MAAMC,MAAM,GAACG,iBAAP,EAAlB;AACD;;AAED,QAAMH,MAAM,GAACI,YAAP,CAAoBb,GAApB,EAAyBQ,SAAzB,CAAN;AACD","sourcesContent":["import chalk from 'chalk';\nimport { UrlUtils, UserSettings } from 'xdl';\n\nimport Log from '../log';\nimport * as sendTo from './utils/sendTo';\nimport urlOpts, { URLOptions } from './utils/urlOpts';\n\ntype Options = Partial<URLOptions & { sendTo?: string }>;\n\nexport async function actionAsync(projectRoot: string, options: Options) {\n  await urlOpts.optsAsync(projectRoot, options);\n\n  const url = await UrlUtils.constructDeepLinkAsync(projectRoot);\n\n  Log.nested('Project manifest URL\\n\\n' + chalk.underline(url) + '\\n');\n\n  if (await urlOpts.handleMobileOptsAsync(projectRoot, options)) {\n    return;\n  }\n\n  let recipient =\n    typeof options.sendTo !== 'boolean'\n      ? options.sendTo\n      : await UserSettings.getAsync('sendTo', null);\n\n  if (!recipient) {\n    recipient = await sendTo.askForSendToAsync();\n  }\n\n  await sendTo.sendUrlAsync(url, recipient);\n}\n"],"file":"sendAsync.js"}