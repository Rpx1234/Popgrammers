{"version":3,"sources":["../../../src/commands/auth/whoamiAsync.ts"],"names":["actionAsync","command","user","UserManager","getCurrentUserAsync","silent","parent","nonInteractive","Log","nested","username","log","chalk","cyan","process","exit"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAQO,eAAeA,WAAf,CAA2BC,OAA3B,EAA6C;AAClD,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,CAAgC;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAhC,CAAnB;;AACA,MAAIH,IAAJ,EAAU;AAAA;;AACR,2BAAID,OAAO,CAACK,MAAZ,4CAAI,gBAAgBC,cAApB,EAAoC;AAClCC,qBAAIC,MAAJ,CAAWP,IAAI,CAACQ,QAAhB;AACD,KAFD,MAEO;AACLF,qBAAIG,GAAJ,CAAS,gBAAeC,iBAAMC,IAAN,CAAWX,IAAI,CAACQ,QAAhB,CAA0B,EAAlD;AACD;AACF,GAND,MAMO;AACLF,mBAAIG,GAAJ,CAAS,6BAA4BC,iBAAMC,IAAK,YAAY,kBAA5D;;AACAC,IAAAA,OAAO,CAACC,IAAR,CAAa,CAAb;AACD;AACF","sourcesContent":["import chalk from 'chalk';\nimport { UserManager } from 'xdl';\n\nimport Log from '../../log';\n\nexport type Options = {\n  parent?: {\n    nonInteractive: boolean;\n  };\n};\n\nexport async function actionAsync(command: Options) {\n  const user = await UserManager.getCurrentUserAsync({ silent: true });\n  if (user) {\n    if (command.parent?.nonInteractive) {\n      Log.nested(user.username);\n    } else {\n      Log.log(`Logged in as ${chalk.cyan(user.username)}`);\n    }\n  } else {\n    Log.log(`\\u203A Not logged in, run ${chalk.cyan`expo login`} to authenticate`);\n    process.exit(1);\n  }\n}\n"],"file":"whoamiAsync.js"}