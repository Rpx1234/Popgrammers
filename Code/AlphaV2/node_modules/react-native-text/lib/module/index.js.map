{"version":3,"sources":["index.tsx"],"names":["React","useMemo","Dimensions","Text","StyleSheet","get","width","height","DEVICE_BASE_WIDTH","FONT_SIZE","REAL_WIDTH","scaleText","deviceBaseWidth","fontSize","lineHeight","Math","round","useScaleText","ScalableText","style","children","props","flatten","scaledText"],"mappings":"uNAAA,MAAOA,CAAAA,KAAP,EAAmCC,OAAnC,KAAkD,OAAlD,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,UAA3B,KAAmE,cAAnE,C,oBAE0BF,UAAU,CAACG,GAAX,CAAe,QAAf,C,CAAlBC,K,iBAAAA,K,CAAOC,M,iBAAAA,M,CAEf,GAAMC,CAAAA,iBAAiB,CAAG,GAA1B,CACA,GAAMC,CAAAA,SAAS,CAAG,EAAlB,CACA,GAAMC,CAAAA,UAAU,CAAGH,MAAM,CAAGD,KAAT,CAAiBA,KAAjB,CAAyBC,MAA5C,CASA,MAAO,IAAMI,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,MAIR,+BAHfC,eAGe,CAHfA,eAGe,+BAHGJ,iBAGH,yCAFfK,QAEe,CAFfA,QAEe,wBAFJJ,SAEI,oCADfK,UACe,CADfA,UACe,0BADFD,QAAQ,CAAG,GACT,iBACf,MAAO,CACLA,QAAQ,CAAEE,IAAI,CAACC,KAAL,CAAYH,QAAQ,CAAGH,UAAZ,CAA0BE,eAArC,CADL,CAELE,UAAU,CAAEC,IAAI,CAACC,KAAL,CAAYF,UAAU,CAAGJ,UAAd,CAA4BE,eAAvC,CAFP,CAAP,CAID,CATM,CAWP,MAAO,IAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,OAIX,iCAHfL,eAGe,CAHfA,eAGe,gCAHGJ,iBAGH,4CAFfK,QAEe,CAFfA,QAEe,yBAFJJ,SAEI,uCADfK,UACe,CADfA,UACe,2BADFD,QAAQ,CAAG,GACT,kBACf,MAAOZ,CAAAA,OAAO,CAAC,UAAM,CACnB,MAAO,CACLY,QAAQ,CAAEE,IAAI,CAACC,KAAL,CAAYH,QAAQ,CAAGH,UAAZ,CAA0BE,eAArC,CADL,CAELE,UAAU,CAAEC,IAAI,CAACC,KAAL,CAAYF,UAAU,CAAGJ,UAAd,CAA4BE,eAAvC,CAFP,CAAP,CAID,CALa,CAKX,CAACA,eAAD,CAAkBC,QAAlB,CAA4BC,UAA5B,CALW,CAAd,CAMD,CAXM,CAkBP,GAAMI,CAAAA,YAAsC,CAAG,QAAzCA,CAAAA,YAAyC,OAKzC,IAJJN,CAAAA,eAII,OAJJA,eAII,mBAHJO,KAGI,CAHJA,KAGI,sBAHI,EAGJ,aAFJC,QAEI,OAFJA,QAEI,CADDC,KACC,gGAC6BjB,UAAU,CAACkB,OAAX,CAAmBH,KAAnB,CAD7B,CACIN,QADJ,qBACIA,QADJ,CACcC,UADd,qBACcA,UADd,mBAEsBG,YAAY,CAAC,CAAEL,eAAe,CAAfA,eAAF,CAAmBC,QAAQ,CAARA,QAAnB,CAA6BC,UAAU,CAAVA,UAA7B,CAAD,CAFlC,CAEOS,UAFP,4BAIJ,MACE,qBAAC,IAAD,WAAM,KAAK,CAAEnB,UAAU,CAACkB,OAAX,CAAmB,CAACH,KAAD,CAAQI,UAAR,CAAnB,CAAb,EAA0DF,KAA1D,mDACGD,QADH,CADF,CAKD,CAdD,CAgBA,cAAeF,CAAAA,YAAf","sourcesContent":["import React, { FunctionComponent, useMemo } from 'react';\nimport { Dimensions, Text, StyleSheet, TextStyle, TextProps } from 'react-native';\n\nconst { width, height } = Dimensions.get('window');\n\nconst DEVICE_BASE_WIDTH = 375; // iPhone 6 width\nconst FONT_SIZE = 14;\nconst REAL_WIDTH = height > width ? width : height;\n\ntype ScaleText = {\n  deviceBaseWidth?: number;\n  fontSize?: number;\n  lineHeight?: number;\n  realWidth?: number;\n};\n\nexport const scaleText = ({\n  deviceBaseWidth = DEVICE_BASE_WIDTH,\n  fontSize = FONT_SIZE,\n  lineHeight = fontSize * 1.2, // Default line height is 120% of the font size.\n}: ScaleText) => {\n  return {\n    fontSize: Math.round((fontSize * REAL_WIDTH) / deviceBaseWidth),\n    lineHeight: Math.round((lineHeight * REAL_WIDTH) / deviceBaseWidth),\n  };\n};\n\nexport const useScaleText = ({\n  deviceBaseWidth = DEVICE_BASE_WIDTH,\n  fontSize = FONT_SIZE,\n  lineHeight = fontSize * 1.2, // Default line height is 120% of the font size.\n}: ScaleText) => {\n  return useMemo(() => {\n    return {\n      fontSize: Math.round((fontSize * REAL_WIDTH) / deviceBaseWidth),\n      lineHeight: Math.round((lineHeight * REAL_WIDTH) / deviceBaseWidth),\n    };\n  }, [deviceBaseWidth, fontSize, lineHeight]);\n};\n\ninterface Props extends TextProps {\n  deviceBaseWidth?: number;\n  style?: TextStyle;\n}\n\nconst ScalableText: FunctionComponent<Props> = ({\n  deviceBaseWidth,\n  style = {},\n  children,\n  ...props\n}) => {\n  const { fontSize, lineHeight } = StyleSheet.flatten(style);\n  const { ...scaledText } = useScaleText({ deviceBaseWidth, fontSize, lineHeight });\n\n  return (\n    <Text style={StyleSheet.flatten([style, scaledText])} {...props}>\n      {children}\n    </Text>\n  );\n};\n\nexport default ScalableText;\n"]}